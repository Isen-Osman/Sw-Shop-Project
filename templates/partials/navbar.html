<!DOCTYPE html>
<html lang="mk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SW SHOP - Fixed Navbar</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        /* Announcement Bar */
        .announcement-bar {
            background: linear-gradient(90deg, #ec4899 0%, #db2777 100%);
            color: white;
            text-align: center;
            padding: 0.6rem;
            font-size: 0.9rem;
            z-index: 60;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            font-weight: 500;
            letter-spacing: 0.3px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 10px;
        }

        .announcement-bar .icon {
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.1);
            }
            100% {
                transform: scale(1);
            }
        }

        .announcement-bar .close-btn {
            position: absolute;
            right: 15px;
            background: none;
            border: none;
            color: white;
            cursor: pointer;
            font-size: 1rem;
            opacity: 0.8;
            transition: opacity 0.2s;
        }

        .announcement-bar .close-btn:hover {
            opacity: 1;
        }

        .announcement-text {
            overflow: hidden;
            white-space: nowrap;
            box-sizing: border-box;
        }

        .announcement-text span {
            display: inline-block;
            padding-left: 100%;
            animation: marquee 15s linear infinite;
        }

        @keyframes marquee {
            0% {
                transform: translate(0, 0);
            }
            100% {
                transform: translate(-100%, 0);
            }
        }

        .nav-text {
            color: #1f2937;
            transition: color 0.3s ease;
        }

        body.home-page .nav-text {
            color: white;
        }

        body.home-page .nav-scrolled .nav-text {
            color: #1f2937;
        }

        /* Mobile Menu */
        .mobile-menu {
            position: fixed;
            top: 0;
            left: 0;
            height: 100vh;
            width: 20rem;
            background: white;
            transform: translateX(-100%);
            transition: transform 0.3s ease;
            z-index: 50;
            padding: 1.5rem;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            overflow-y: auto;
        }

        .mobile-menu.open {
            transform: translateX(0);
        }

        #mobileMenuOverlay {
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.3);
            z-index: 40;
            display: none;
        }

        /* Desktop Nav Items */
        .desktop-nav-item {
            position: relative;
            padding: 0.5rem 0.8rem;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .desktop-nav-item::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            width: 0;
            height: 2px;
            background: #ec4899;
            transform: translateX(-50%);
            transition: all 0.3s ease;
        }

        .desktop-nav-item:hover::after {
            width: 80%;
        }

        .desktop-nav-item:hover {
            color: #ec4899;
            transform: translateY(-2px);
        }

        .nav-categories {
            display: flex;
            justify-content: center;
            flex: 1;
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
        }

        .nav-actions {
            display: flex;
            align-items: center;
            margin-left: auto;
            gap: 0.5rem;
        }

        /* Dropdown */
        .dropdown {
            position: relative;
        }

        .dropdown-content {
            display: none;
            position: absolute;
            top: 100%;
            left: 0;
            background: white;
            min-width: 12rem;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            border-radius: 0.5rem;
            z-index: 30;
        }

        .dropdown:hover .dropdown-content {
            display: block;
        }

        .dropdown-content a {
            display: block;
            padding: 0.5rem 1rem;
            color: #1f2937;
            transition: background 0.2s;
        }

        .dropdown-content a:hover {
            background: #fce7f3;
            color: #db2777;
        }

        /* Demo content */
        .demo-content {
            height: 200vh;
            padding-top: 120px;
            text-align: center;
            background: linear-gradient(to bottom, #f8fafc, #e2e8f0);
        }

        .logo-animated .letter {
            display: inline-block;
            opacity: 0;
            transform: translateY(-20px);
            animation: dropIn 0.6s forwards;
            animation-delay: calc(var(--i) * 0.1s);
        }

        @keyframes dropIn {
            0% {
                opacity: 0;
                transform: translateY(-20px);
            }
            60% {
                opacity: 1;
                transform: translateY(5px);
            }
            100% {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Cart Animation Styles */
        .cart-icon {
            position: relative;
            transition: all 0.3s ease;
        }

        .cart-badge {
            position: absolute;
            top: -5px;
            right: -5px;
            background: #ec4899;
            color: white;
            border-radius: 50%;
            width: 18px;
            height: 18px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.7rem;
            font-weight: bold;
            transition: all 0.3s ease;
        }

        .cart-notification {
            position: absolute;
            top: 100%;
            right: 0;
            background: #4ade80;
            color: white;
            padding: 5px 10px;
            border-radius: 4px;
            font-size: 0.8rem;
            white-space: nowrap;
            margin-top: 5px;
            opacity: 0;
            transform: translateY(-10px);
            transition: all 0.3s ease;
            pointer-events: none;
            z-index: 100;
        }

        .cart-notification.show {
            opacity: 1;
            transform: translateY(0);
        }

        /* Animation for cart with items */
        .cart-has-items {
            animation: cartPulse 2s infinite;
        }

        @keyframes cartPulse {
            0% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.1);
            }
            100% {
                transform: scale(1);
            }
        }

        /* Shake animation for cart */
        .cart-shake {
            animation: shake 0.5s ease-in-out;
        }

        @keyframes shake {
            0% { transform: translateX(0); }
            20% { transform: translateX(-5px); }
            40% { transform: translateX(5px); }
            60% { transform: translateX(-5px); }
            80% { transform: translateX(5px); }
            100% { transform: translateX(0); }
        }
    </style>
</head>
<body class="home-page">

<!-- Announcement Bar -->
<div class="announcement-bar">
    <div class="icon">üéÄ</div>
    <div class="announcement-text"><span>20% –ø–æ–ø—É—Å—Ç –Ω–∞ —Å–∏—Ç–µ –ø—Ä–æ–¥—É–∫—Ç–∏! –ö—É–ø–∏ —Å–µ–≥–∞ –∏ –¥–æ–±–∏—ò –±–µ—Å–ø–ª–∞—Ç–Ω–∞ –∏—Å–ø–æ—Ä–∞–∫–∞! üéâ</span>
    </div>
    <button class="close-btn">&times;</button>
</div>

<!-- Navbar -->
<nav id="mainNav" class="fixed w-full top-8 left-0 z-50 transition-all duration-500 bg-white">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-16 flex items-center justify-between">

        <!-- Logo -->
        <a href="{% url 'home' %}"
           class="text-2xl lg:text-3xl font-light tracking-wide nav-text flex items-center gap-1 logo-animated">
            <span class="letter" style="--i:0">S</span>
            <span class="letter" style="--i:1">W</span>
            <span class="letter" style="--i:2"> </span>
            <span class="letter text-pink-500 font-semibold" style="--i:3">S</span>
            <span class="letter text-pink-500 font-semibold" style="--i:4">H</span>
            <span class="letter text-pink-500 font-semibold" style="--i:5">O</span>
            <span class="letter text-pink-500 font-semibold" style="--i:6">P</span>
        </a>

        <!-- Mobile Actions -->
        <div class="flex md:hidden items-center gap-2">
            <div class="relative">
                <a href="{% if user.is_authenticated %}{% url 'wishlist' %}{% else %}{% url 'profile_page' %}{% endif %}"
                   class="cart-icon p-2 rounded-full hover:bg-gray-200 transition">
                    <i class="fas fa-shopping-cart text-xl nav-text"></i>
                    {% if user.is_authenticated and wishlist_items_count|default:0 > 0 %}
                        <span class="cart-badge">{{ wishlist_items_count }}</span>
                    {% endif %}
                </a>
                <div class="cart-notification" id="cartNotification">–ö—Ä–µ–∏—Ä–∞—ò –Ω–∞—Ä–∞—á–∫–∞!</div>
            </div>
            <a href="{% url 'profile_page' %}" class="p-2 rounded-full hover:bg-gray-200 transition">
                {% if user.is_authenticated and user.socialaccount_set.first %}
                    {% if user.socialaccount_set.first.get_avatar_url %}
                        <img src="{{ user.socialaccount_set.first.get_avatar_url }}" alt="–ê–≤–∞—Ç–∞—Ä"
                             class="w-8 h-8 rounded-full object-cover border-2 border-pink-500">
                    {% else %}
                        <i class="far fa-user text-xl nav-text"></i>
                    {% endif %}
                {% else %}
                    <i class="far fa-user text-xl nav-text"></i>
                {% endif %}
            </a>
            <button id="menuToggle" class="p-2 rounded-full hover:bg-gray-200 transition">
                <i class="fas fa-bars text-xl nav-text"></i>
            </button>
        </div>

        <!-- Desktop Nav Items -->
        <div class="hidden md:flex flex-1 justify-center items-center space-x-1">
            <a href="{% url 'products' %}" class="desktop-nav-item nav-text">–°–∏—Ç–µ –ø—Ä–æ–¥—É–∫—Ç–∏</a>

            <div class="dropdown desktop-nav-item nav-text">
                –ì—Ä–∞–¥–Ω–∏—Ü–∏
                <div class="dropdown-content">
                    <a href="{% url 'category_products' 'bras_push_up' %}">Push-up</a>
                    <a href="{% url 'category_products' 'bras_sport' %}">–°–ø–æ—Ä—Ç—Å–∫–∏</a>
                    <a href="{% url 'category_products' 'bras_lace' %}">–ß–∏–ø–∫–∞–Ω–∏</a>
                    <a href="{% url 'category_products' 'bras_underwire' %}">–ë–µ–∑ –∂–∏—Ü–∞</a>
                    <a href="{% url 'category_products' 'bodices' %}">–ú–∏–¥–µ—Ä–∏</a>
                </div>
            </div>

            <div class="dropdown desktop-nav-item nav-text">
                –ö–∏–ª–æ—Ç–∏
                <div class="dropdown-content">
                    <a href="{% url 'category_products' 'panties_tanga' %}">–¢–∞–Ω–≥–∞</a>
                    <a href="{% url 'category_products' 'panties_half_tanga' %}">–ü–æ–ª—É—Ç–∞–Ω–≥–∞</a>
                    <a href="{% url 'category_products' 'panties_high_waist' %}">–í–∏—Å–æ–∫–∏</a>
                    <a href="{% url 'category_products' 'boxer_panties' %}">–ë–æ–∫—Å–µ—Ä–∫–∏</a>
                    <a href="{% url 'category_products' 'leggings' %}">–•–µ–ª–∞–Ω–∫–∏</a>
                </div>
            </div>

            <div class="dropdown desktop-nav-item nav-text">
                –ü–∏–∂–∞–º–∏
                <div class="dropdown-content">
                    <a href="{% url 'category_products' 'pajamas_short' %}">–ö—Ä–∞—Ç–∫–∏</a>
                    <a href="{% url 'category_products' 'pajamas_long' %}">–î–æ–ª–≥–∏</a>
                    <a href="{% url 'category_products' 'nightclothes' %}">–ù–æ—ú–Ω–∏—Ü–∏</a>
                </div>
            </div>

            <div class="dropdown desktop-nav-item nav-text">
                –ü—Ä–∏–≤–∞—Ç–Ω–∞
                <div class="dropdown-content">
                    <a href="{% url 'category_products' 'lingerie' %}">–ü—Ä–∏–≤–∞—Ç–Ω–∞</a>
                    <a href="{% url 'category_products' 'kits' %}">–ö–æ–º–ø–ª–µ—Ç–∏</a>
                    <a href="{% url 'category_products' 'baby_doll' %}">–ë–µ–±–∏–¥–æ–ª</a>
                </div>
            </div>

            <a href="{% url 'category_products' 'accessories' %}" class="desktop-nav-item nav-text">–î–æ–¥–∞—Ç–æ—Ü–∏</a>
            <a href="{% url 'about_us' %}" class="desktop-nav-item nav-text">–ó–∞ –Ω–∞—Å</a>
            <a href="{% url 'contact' %}" class="desktop-nav-item nav-text">–ö–æ–Ω—Ç–∞–∫—Ç</a>
        </div>

        <!-- Desktop Cart and Profile -->
        <div class="hidden md:flex items-center gap-2">
            <div class="relative">
                <a href="{% if user.is_authenticated %}{% url 'wishlist' %}{% else %}{% url 'profile_page' %}{% endif %}"
                   class="cart-icon p-2 rounded-full hover:bg-gray-200 transition">
                    <i class="fas fa-shopping-cart text-xl nav-text"></i>
                    {% if user.is_authenticated and wishlist_items_count|default:0 > 0 %}
                        <span class="cart-badge">{{ wishlist_items_count }}</span>
                    {% endif %}
                </a>
                <div class="cart-notification" id="desktopCartNotification">–ö—Ä–µ–∏—Ä–∞—ò –Ω–∞—Ä–∞—á–∫–∞!</div>
            </div>
            <a href="{% url 'profile_page' %}" class="p-2 rounded-full hover:bg-gray-200 transition">
                {% if user.is_authenticated and user.socialaccount_set.first %}
                    {% if user.socialaccount_set.first.get_avatar_url %}
                        <img src="{{ user.socialaccount_set.first.get_avatar_url }}" alt="–ê–≤–∞—Ç–∞—Ä"
                             class="w-8 h-8 rounded-full object-cover border-2 border-pink-500">
                    {% else %}
                        <i class="far fa-user text-xl nav-text"></i>
                    {% endif %}
                {% else %}
                    <i class="far fa-user text-xl nav-text"></i>
                {% endif %}
            </a>
        </div>
    </div>

    <!-- Mobile Menu Overlay -->
    <div id="mobileMenuOverlay"></div>

    <!-- Mobile Menu -->
    <div id="mobileMenu"
         class="mobile-menu bg-white shadow-xl transform -translate-x-full transition-transform duration-300 ease-in-out">
        <div class="flex justify-between items-center p-6 border-b">
            <h2 class="text-2xl font-bold text-gray-800">–ú–µ–Ω–∏</h2>
            <button id="closeMenu" class="text-gray-800 focus:outline-none">
                <i class="fas fa-times text-2xl"></i>
            </button>
        </div>
        <nav class="p-6">
            <ul class="space-y-2">

                <li>
                    <a href="{% url 'home' %}"
                       class="block py-3 px-4 rounded-lg hover:bg-pink-50 hover:text-pink-500 font-medium transition">–î–æ–º–∞</a>
                </li>

                <li>
                    <a href="{% url 'products' %}"
                       class="block py-3 px-4 rounded-lg hover:bg-pink-50 hover:text-pink-500 font-medium transition">–°–∏—Ç–µ –ø—Ä–æ–¥—É–∫—Ç–∏</a>
                </li>

                <!-- –ì—Ä–∞–¥–Ω–∏—Ü–∏ -->
                <li>
                    <details class="group overflow-hidden">
                        <summary
                                class="flex justify-between items-center cursor-pointer py-3 px-4 rounded-lg hover:bg-pink-50 hover:text-pink-500 font-medium transition">
                            <span>–ì—Ä–∞–¥–Ω–∏—Ü–∏</span>
                            <i class="fas fa-chevron-down transition-transform duration-300 group-open:rotate-180"></i>
                        </summary>
                        <ul class="pl-6 mt-2 space-y-1 max-h-0 overflow-hidden transition-[max-height] duration-500 ease-in-out group-open:max-h-96">
                            <li><a href="{% url 'category_products' 'bras_push_up' %}" class="block py-2 px-4 rounded-lg hover:bg-pink-50 transition">Push-up</a></li>
                            <li><a href="{% url 'category_products' 'bras_sport' %}" class="block py-2 px-4 rounded-lg hover:bg-pink-50 transition">–°–ø–æ—Ä—Ç—Å–∫–∏</a></li>
                            <li><a href="{% url 'category_products' 'bras_lace' %}" class="block py-2 px-4 rounded-lg hover:bg-pink-50 transition">–ß–∏–ø–∫–∞–Ω–∏</a></li>
                            <li><a href="{% url 'category_products' 'bras_underwire' %}" class="block py-2 px-4 rounded-lg hover:bg-pink-50 transition">–ë–µ–∑ –∂–∏—Ü–∞</a></li>
                            <li><a href="{% url 'category_products' 'bodices' %}" class="block py-2 px-4 rounded-lg hover:bg-pink-50 transition">–ú–∏–¥–µ—Ä–∏</a></li>
                        </ul>
                    </details>
                </li>

                <!-- –ö–∏–ª–æ—Ç–∏ -->
                <li>
                    <details class="group">
                        <summary
                                class="flex justify-between items-center cursor-pointer py-3 px-4 rounded-lg hover:bg-pink-50 hover:text-pink-500 font-medium transition">
                            <span>–ö–∏–ª–æ—Ç–∏</span>
                            <i class="fas fa-chevron-down transition-transform duration-300 group-open:rotate-180"></i>
                        </summary>
                        <ul class="pl-6 mt-2 space-y-1 overflow-hidden max-h-0 transition-all duration-300 ease-in-out group-open:max-h-96">
                            <li><a href="{% url 'category_products' 'panties_tanga' %}" class="block py-2 px-4 rounded-lg hover:bg-pink-50 transition">–¢–∞–Ω–≥–∞</a></li>
                            <li><a href="{% url 'category_products' 'panties_half_tanga' %}" class="block py-2 px-4 rounded-lg hover:bg-pink-50 transition">–ü–æ–ª—É—Ç–∞–Ω–≥–∞</a></li>
                            <li><a href="{% url 'category_products' 'panties_high_waist' %}" class="block py-2 px-4 rounded-lg hover:bg-pink-50 transition">–í–∏—Å–æ–∫–∏</a></li>
                            <li><a href="{% url 'category_products' 'boxer_panties' %}" class="block py-2 px-4 rounded-lg hover:bg-pink-50 transition">–ë–æ–∫—Å–µ—Ä–∫–∏</a></li>
                            <li><a href="{% url 'category_products' 'leggings' %}" class="block py-2 px-4 rounded-lg hover:bg-pink-50 transition">–•–µ–ª–∞–Ω–∫–∏</a></li>
                        </ul>
                    </details>
                </li>

                <!-- –ü–∏–∂–∞–º–∏ -->
                <li>
                    <details class="group">
                        <summary
                                class="flex justify-between items-center cursor-pointer py-3 px-4 rounded-lg hover:bg-pink-50 hover:text-pink-500 font-medium transition">
                            <span>–ü–∏–∂–∞–º–∏</span>
                            <i class="fas fa-chevron-down transition-transform duration-300 group-open:rotate-180"></i>
                        </summary>
                        <ul class="pl-6 mt-2 space-y-1 overflow-hidden max-h-0 transition-all duration-300 ease-in-out group-open:max-h-96">
                            <li><a href="{% url 'category_products' 'pajamas_short' %}" class="block py-2 px-4 rounded-lg hover:bg-pink-50 transition">–ö—Ä–∞—Ç–∫–∏</a></li>
                            <li><a href="{% url 'category_products' 'pajamas_long' %}" class="block py-2 px-4 rounded-lg hover:bg-pink-50 transition">–î–æ–ª–≥–∏</a></li>
                            <li><a href="{% url 'category_products' 'nightclothes' %}" class="block py-2 px-4 rounded-lg hover:bg-pink-50 transition">–ù–æ—ú–Ω–∏—Ü–∏</a></li>
                        </ul>
                    </details>
                </li>

                <!-- –ü—Ä–∏–≤–∞—Ç–Ω–∞ -->
                <li>
                    <details class="group">
                        <summary
                                class="flex justify-between items-center cursor-pointer py-3 px-4 rounded-lg hover:bg-pink-50 hover:text-pink-500 font-medium transition">
                            <span>–ü—Ä–∏–≤–∞—Ç–Ω–∞</span>
                            <i class="fas fa-chevron-down transition-transform duration-300 group-open:rotate-180"></i>
                        </summary>
                        <ul class="pl-6 mt-2 space-y-1 overflow-hidden max-h-0 transition-all duration-300 ease-in-out group-open:max-h-96">
                            <li><a href="{% url 'category_products' 'lingerie' %}" class="block py-2 px-4 rounded-lg hover:bg-pink-50 transition">–ü—Ä–∏–≤–∞—Ç–Ω–∞</a></li>
                            <li><a href="{% url 'category_products' 'kits' %}" class="block py-2 px-4 rounded-lg hover:bg-pink-50 transition">–ö–æ–º–ø–ª–µ—Ç–∏</a></li>
                            <li><a href="{% url 'category_products' 'baby_doll' %}" class="block py-2 px-4 rounded-lg hover:bg-pink-50 transition">–ë–µ–±–∏–¥–æ–ª</a></li>
                        </ul>
                    </details>
                </li>

                <!-- –î–æ–¥–∞—Ç–æ—Ü–∏ -->
                <li>
                    <a href="{% url 'category_products' 'accessories' %}" class="block py-3 px-4 rounded-lg hover:bg-pink-50 hover:text-pink-500 font-medium transition">–î–æ–¥–∞—Ç–æ—Ü–∏</a>
                </li>

                <!-- –ó–∞ –Ω–∞—Å –∏ –ö–æ–Ω—Ç–∞–∫—Ç -->
                <li><a href="{% url 'about_us' %}" class="block py-3 px-4 rounded-lg hover:bg-pink-50 hover:text-pink-500 font-medium transition">–ó–∞ –Ω–∞—Å</a></li>
                <li><a href="{% url 'contact' %}" class="block py-3 px-4 rounded-lg hover:bg-pink-50 hover:text-pink-500 font-medium transition">–ö–æ–Ω—Ç–∞–∫—Ç</a></li>
                <li><a href="{% url 'delivery' %}" class="block py-3 px-4 rounded-lg hover:bg-pink-50 hover:text-pink-500 font-medium transition">–ò—Å–ø–æ—Ä–∞–∫–∞ –∏ –í—Ä–∞—ú–∞—ö–µ</a></li>
            </ul>
        </nav>
    </div>
</nav>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        // Announcement Bar
        const announcementBar = document.querySelector('.announcement-bar');
        const mainNav = document.getElementById('mainNav');

        if (localStorage.getItem('announcementClosed') === 'true') {
            announcementBar.style.display = 'none';
            mainNav.style.top = '0';
        }

        document.querySelector('.announcement-bar .close-btn').addEventListener('click', function () {
            announcementBar.style.display = 'none';
            mainNav.style.top = '0';
            localStorage.setItem('announcementClosed', 'true');
        });

        // Mobile Menu
        const menuToggle = document.getElementById('menuToggle');
        const closeMenu = document.getElementById('closeMenu');
        const mobileMenu = document.getElementById('mobileMenu');
        const mobileMenuOverlay = document.getElementById('mobileMenuOverlay');

        menuToggle.addEventListener('click', () => {
            mobileMenu.classList.add('open');
            mobileMenuOverlay.style.display = 'block';
            document.body.style.overflow = 'hidden';
        });

        closeMenu.addEventListener('click', () => {
            mobileMenu.classList.remove('open');
            mobileMenuOverlay.style.display = 'none';
            document.body.style.overflow = '';
        });

        mobileMenuOverlay.addEventListener('click', () => {
            mobileMenu.classList.remove('open');
            mobileMenuOverlay.style.display = 'none';
            document.body.style.overflow = '';
        });

        // Navbar position
        const nav = document.getElementById('mainNav');
        const announcementHeight = announcementBar.offsetHeight;
        nav.style.top = `${announcementHeight}px`;

        if (document.body.classList.contains('home-page')) {
            window.addEventListener('scroll', () => {
                if (window.scrollY > 10) {
                    nav.classList.add('nav-scrolled');
                    nav.style.background = 'white';
                    nav.style.boxShadow = '0 4px 12px rgba(0, 0, 0, 0.1)';
                } else {
                    nav.classList.remove('nav-scrolled');
                    nav.style.background = 'transparent';
                    nav.style.boxShadow = 'none';
                }
            });
        } else {
            nav.classList.add('nav-scrolled');
        }

        // Set viewport height variable
        function setVH() {
            let vh = window.innerHeight * 0.01;
            document.documentElement.style.setProperty('--vh', `${vh}px`);
        }
        setVH();
        window.addEventListener('resize', setVH);

        // Cart Animation & Notifications
        const cartItemsCount = {{ wishlist_items_count|default:0 }};
        const cartIcons = document.querySelectorAll('.cart-icon');
        const cartNotifications = document.querySelectorAll('.cart-notification');

        if (cartItemsCount > 0) {
            cartIcons.forEach(icon => {
                icon.classList.add('cart-has-items');

                icon.addEventListener('mouseenter', function () {
                    this.classList.add('cart-shake');
                    const notification = this.nextElementSibling;
                    if (notification && notification.classList.contains('cart-notification')) {
                        notification.classList.add('show');
                        setTimeout(() => {
                            notification.classList.remove('show');
                        }, 2000);
                    }
                });

                icon.addEventListener('animationend', function () {
                    this.classList.remove('cart-shake');
                });
            });
        }

        // –§—É–Ω–∫—Ü–∏—ò–∞ –∑–∞ –ø—Ä–∏–∫–∞–∂—É–≤–∞—ö–µ –Ω–∞ –ø–æ—Ä–∞–∫–∞—Ç–∞ —Å–µ–∫–æ–∏ 4 —Å–µ–∫—É–Ω–¥–∏
        function showCartNotification() {
            cartNotifications.forEach(notification => {
                notification.classList.add('show');
                setTimeout(() => {
                    notification.classList.remove('show');
                }, 5000); // –≤–∏–¥–ª–∏–≤–∞ 2 —Å–µ–∫—É–Ω–¥–∏
            });
        }

        // –°–µ –ø–æ–≤–∏–∫—É–≤–∞ —Å–µ–∫–æ–∏ 4 —Å–µ–∫—É–Ω–¥–∏
        setInterval(showCartNotification, 4000);
    });
</script>

</body>
</html>